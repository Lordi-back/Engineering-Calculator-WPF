<Page x:Class="Engineering_Calculator_WPF.Calculator"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Калькулятор" >

    <Grid Margin="0,0,0,-43">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Кнопка перехода на инженерный калькулятор -->
        <Button Grid.Row="0" Content="➔ Инженерный калькулятор" 
                Click="GoToEngineeringCalculator_Click"
                Width="200" Height="30" Margin="10" Background="LightBlue" 
                FontWeight="Bold" HorizontalAlignment="Right"/>

        <!-- Дисплей - делаем его более заметным -->
        <TextBox x:Name="Display" Grid.Row="0" Height="40" Width="200" FontSize="18" 
                TextAlignment="Right" VerticalContentAlignment="Center" 
                Margin="10,50,10,10" IsReadOnly="True" Text="0" Background="White"
                BorderBrush="Gray" BorderThickness="1" HorizontalAlignment="Left"
                Focusable="False"/>
        
        <TextBlock Grid.Row="1" Text="Подсказка: используйте цифровую клавиатуру" 
                   HorizontalAlignment="Center" VerticalAlignment="Bottom"
                   Margin="10" FontSize="10" Foreground="Gray"/>
        <!-- Панель переключения режимов -->
        <TabControl Grid.Row="2" Margin="0,0,0,35">
            <TabItem Header="Обычный калькулятор">
                <Grid>
                    <!-- Простой калькулятор -->
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>


                        <!-- Кнопки калькулятора -->
                        <UniformGrid Grid.Row="1" Columns="4" Rows="6" Margin="10">
                            <!-- Ряд 1 -->
                            <Button Content="C" Click="Clear_Click" Background="LightCoral"/>
                            <Button Content="⌫" Click="Backspace_Click"/>
                            <Button Content="±" Click="PlusMinus_Click"/>
                            <Button Content="/" Click="Operator_Click" Background="LightBlue"/>

                            <!-- Ряд 2 -->
                            <Button Content="7" Click="Number_Click"/>
                            <Button Content="8" Click="Number_Click"/>
                            <Button Content="9" Click="Number_Click"/>
                            <Button Content="×" Click="Operator_Click" Background="LightBlue"/>

                            <!-- Ряд 3 -->
                            <Button Content="4" Click="Number_Click"/>
                            <Button Content="5" Click="Number_Click"/>
                            <Button Content="6" Click="Number_Click"/>
                            <Button Content="-" Click="Operator_Click" Background="LightBlue"/>

                            <!-- Ряд 4 -->
                            <Button Content="1" Click="Number_Click"/>
                            <Button Content="2" Click="Number_Click"/>
                            <Button Content="3" Click="Number_Click"/>
                            <Button Content="+" Click="Operator_Click" Background="LightBlue"/>

                            <!-- Ряд 5 -->
                            <Button Content="0" Click="Number_Click"/>
                            <Button Content="." Click="Decimal_Click"/>
                            <Button Content="=" Click="Equals_Click" Background="LightGreen" Grid.ColumnSpan="2"/>

                            <!-- Ряд 6 - дополнительные функции -->
                            <Button Content="(" Click="Parenthesis_Click"/>
                            <Button Content=")" Click="Parenthesis_Click"/>
                            <Button Content="x²" Click="Power_Click"/>
                            <Button Content="√" Click="Sqrt_Click"/>
                        </UniformGrid>
                    </Grid>
                </Grid>
            </TabItem>

            <TabItem Header="Матрицы">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <!-- Выбор операции с матрицами -->
                    <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="10">
                        <ComboBox x:Name="MatrixOperationComboBox" Width="150" Margin="5">
                            <ComboBoxItem Content="Сложение матриц"/>
                            <ComboBoxItem Content="Умножение матриц"/>
                            <ComboBoxItem Content="Определитель"/>
                            <ComboBoxItem Content="Транспонирование"/>
                        </ComboBox>
                        <Button Content="Выполнить" Click="MatrixCalculate_Click" Margin="5"/>
                    </StackPanel>

                    <!-- Поля для матриц -->
                    <Grid Grid.Row="1">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <!-- Матрица A -->
                        <StackPanel Grid.Column="0" Margin="10">
                            <TextBlock Text="Матрица A (2x2)" FontWeight="Bold" Margin="5"/>
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>

                                <TextBox x:Name="A11" Grid.Row="0" Grid.Column="0" Width="50" Height="30" Margin="5" Text="1"/>
                                <TextBox x:Name="A12" Grid.Row="0" Grid.Column="1" Width="50" Height="30" Margin="5" Text="2"/>
                                <TextBox x:Name="A21" Grid.Row="1" Grid.Column="0" Width="50" Height="30" Margin="5" Text="3"/>
                                <TextBox x:Name="A22" Grid.Row="1" Grid.Column="1" Width="50" Height="30" Margin="5" Text="4"/>
                            </Grid>
                        </StackPanel>

                        <!-- Матрица B -->
                        <StackPanel Grid.Column="1" Margin="10">
                            <TextBlock Text="Матрица B (2x2)" FontWeight="Bold" Margin="5"/>
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>

                                <TextBox x:Name="B11" Grid.Row="0" Grid.Column="0" Width="50" Height="30" Margin="5" Text="1"/>
                                <TextBox x:Name="B12" Grid.Row="0" Grid.Column="1" Width="50" Height="30" Margin="5" Text="0"/>
                                <TextBox x:Name="B21" Grid.Row="1" Grid.Column="0" Width="50" Height="30" Margin="5" Text="0"/>
                                <TextBox x:Name="B22" Grid.Row="1" Grid.Column="1" Width="50" Height="30" Margin="5" Text="1"/>
                            </Grid>
                        </StackPanel>
                    </Grid>

                    <!-- Результат -->
                    <TextBlock x:Name="MatrixResult" Grid.Row="1" Margin="10" FontSize="16" 
                              TextWrapping="Wrap" VerticalAlignment="Bottom"/>
                </Grid>
            </TabItem>
        </TabControl>
    </Grid>
</Page>